@page "/"
@using System.Reflection
@using Bashi.Core.Utils

<Jumbotron Background="Background.Dark">
  <Container Style="text-align: center">
    <FigureImage Source="/static/images/logo.png" />
    <JumbotronTitle Class="font-title text-gold" Size="JumbotronTitleSize.Is4">The Little Mandarin</JumbotronTitle>
    <JumbotronSubtitle>Welcome to The Little Mandarin's Administrative tools page (version @Version)</JumbotronSubtitle>
  </Container>
  <Divider />
  <Paragraph Color="TextColor.White50">
    Use the sidebar to navigate to the different available tools.<br />
    And now, a word from this page's random icon: <br />
  </Paragraph>
  <Icon Name="Icon" />
</Jumbotron>

@code {

  /// <inheritdoc />
  protected override void OnInitialized()
  {
    base.OnInitialized();

    var random = new Random();
    var choices = EnumUtil.GetValues<IconName>().ToList();
    this.Icon = choices[random.Next(0, choices.Count)];
    this.Version = Assembly.GetExecutingAssembly().GetName().Version;
  }

  /// <summary>
  /// Gets the icon to be displayed in the header.
  /// </summary>
  public IconName Icon { get; set; }

  /// <summary>
  /// Gets the current version of the application.
  /// </summary>
  public Version Version { get; set; }

}
