@page "/artists"
@using Mandarin.ViewModels.Artists
@inject IArtistsPageViewModel ViewModel

@if (ViewModel.IsLoading)
{
  <p>Just a moment...</p>
}
else
{
  @for (var i = 0; i < @ViewModel.ViewModels.Count; i++)
  {
    if (i != 0)
    {
      <hr class="my-8" />
    }

    <MandarinArtist ViewModel="@ViewModel.ViewModels[i]" />
  }
}

@code {

  /// <inheritdoc />
  protected override void OnInitialized()
  {
    ViewModel.StateObservable.Subscribe(x => InvokeAsync(StateHasChanged));
  }

}
